"use strict";
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
exports.__esModule = true;
exports.MongoController = void 0;
var mongoose = require("mongoose");
var common_1 = require("../common");
var faker = require("faker");
var dotenv = require("dotenv");
var allhashtags = ["video", "https", "http", "cars", "this", "poodle", "pitbull", "subscribe", "ferrari", "official", "with", "instagram", "youtube", "dogs", "more", "from", "videos", "here", "like", "about", "music", "please", "watch", "album", "listen", "find", "funny", "play", "will", "download", "smarturl", "sobre", "thanks", "watching", "channel", "kids", "life", "that", "truck", "your", "right", "vlad", "itunes", "mcqueen", "spotify", "toys", "2020", "baby", "challenge", "click", "feat", "follow", "have", "race", "series", "stream", "check", "comment", "cute", "make", "most", "share", "best", "drive", "iqid", "price", "racing", "ride", "some", "their", "they", "time", "carwow", "engine", "facebook", "globalization", "laugh", "lightning", "miniature", "mods", "next", "nikita", "spiderman", "standard", "surprise", "tudo", "vehicles", "amazing", "bitly", "children", "compilation", "exterior", "featured", "first", "friends", "help", "interior", "latest", "love", "pets", "poodles", "review", "thank", "welcome", "wheels", "when", "2019", "babies", "before", "crazy", "dale", "everything", "french", "know", "laferrari", "para", "pbspot", "playing", "produced", "shop", "spider", "sports", "take", "these", "track", "very", "vÃ­deo", "youtu", "animals", "audio", "awesome", "caniche", "cheap", "chris", "como", "competition", "contact", "dealer", "driving", "edge", "enjoy", "fastest", "fire", "floyd", "friend", "gmail", "head", "home", "hulk", "link", "little", "lookout", "made", "media", "nane", "other", "parents", "pink", "police", "popular", "puppies", "ready", "show", "songs", "sound", "speed", "super", "superheroes", "takes", "them", "there", "things", "viralbe", "wild", "2008", "2011", "2012", "2021", "actually", "adalah", "also", "animal", "back", "bar0na", "behind", "bids", "bought", "breed", "canal", "carsandbids", "cats", "collection", "color", "concept", "control", "crazycars", "cuidar", "culo", "cutest", "dalam", "diana", "disney", "down", "drag", "ever", "fail", "fate", "favorite", "filmed", "fireball", "francesco", "full", "funniest", "furious", "gameplay", "gigante", "heroes", "hybrid", "ideal", "instrumental", "international", "join", "kÃªnh", "kÃ­nh", "lamborghini", "learn", "letrons", "lewis", "lyrics", "mahone", "master", "monster", "month", "mr305", "myself", "namaste", "odin", "over", "owner", "owning", "perros", "pibull_youtube", "pista", "pixar", "planet", "playlist", "plus", "power", "pretend", "primo", "racecars", "races", "raza", "raÃ§a", "release", "saber", "season", "small", "supposed", "test", "tracks", "tribute", "version", "visit", "vocÃª", "wash", "week", "where", "woman", "world", "worldwide", "yeÌ‚u", "Ä‘Äƒng", "2009", "2017", "2022", "2gxwsyq", "320i", "34carcrash", "abrar", "amazon", "ambulance", "anipetshop", "anjing", "anuelaa", "apple", "aqui", "assetto", "assettocorsa", "attack", "austin", "auto", "available", "away", "baddest", "baran", "batman", "beat", "bebe", "because", "behaviors", "below", "bernoulli", "better", "between", "black", "blake", "bmws", "booking", "bravecto", "breeds", "brown", "bugÃ¼n", "bull", "cachorro", "cachorros", "caracterÃ­sticas", "catalin", "change", "chesca", "climate", "complete", "completo", "confira", "conheÃ§a", "consejos", "cool", "corsa", "coupe", "crashes", "creature", "crufts", "daily", "deals", "design", "dhurata", "different", "discord", "discover", "donate", "dondejong", "dont", "eleanor", "email", "episode", "esse", "esta", "every", "excavator", "expect", "expectations", "expensive", "experience", "explain", "featuring", "filled", "gangstergangmusic", "gear", "georiot", "german", "giant", "girl", "giá»›i", "gliÅ¡a", "good", "google", "greenlight", "guru", "gustado", "guys", "hands", "harga", "harris", "hello", "heritage", "hey", "high", "himself", "hope", "horse", "house", "huge", "imagine", "impressions", "includes", "incredible", "into", "iron", "italian", "iÃ§in", "j1m3", "james", "jetzt", "john", "judging", "kadir", "king", "known", "kumar", "kÃ¶pek", "leading", "list", "listenyd", "live", "location", "looking", "lunchmoney", "luxury", "magic", "mais", "majkati", "mala", "marley", "matters", "meet", "model", "moment", "much", "mueve", "mÃ¬nh", "nayer", "need", "nesse", "ngÆ°á»i", "niki", "nursery", "officially", "oficial", "one", "opening", "options", "orcd", "orchard", "parking", "parkour", "paying", "payner", "pensamos", "people", "performance", "perro", "pitbulls", "pitbullyoutube", "previous", "puppy", "purchase", "purplerainrecords", "quiero", "qzhcrc", "ramon", "ramp", "randhawa", "real", "reasons", "records", "rhymes", "rida", "road", "roma", "rotaru", "ryan", "scenes", "semana", "seri", "shelton", "should", "side", "simulator", "single", "slowly", "snow", "spanish", "specifications", "stephen", "still", "store", "street", "sub_confirmation", "such", "supercars", "superfast", "suscrÃ­bete", "szemÃ©tbÅ‘l", "taken", "tamaÃ±o", "team", "technology", "tekin", "than", "themselves", "thoughts", "three", "through", "tienda", "todos", "tonic", "took", "town", "transform", "tributo", "trucks", "twitter", "type", "unboxing", "untuk", "updates", "user", "venta", "vision", "want", "well", "what", "wolfoo", "would", "xdrive", "yang", "years", "yeni", "zuko", "Â®", "Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»ÑŒ", "à¸£à¸²à¸„à¸²", "à¹„à¸¡à¸¥à¹Œ", "0533", "0723", "0ywwd", "1000bhp", "100km", "100plus", "116273", "1200", "1299900", "1967", "1997", "20000", "2018", "2110", "228s", "22kkvqq", "29rjpt4", "29vqkgc", "29zfeyz", "2gxxgfu", "2kmk", "2qqqhym", "2tgaeyw", "2wxo4nk", "2zq0du5", "31kr", "320d", "330i", "335i", "3444", "3kag4x5", "42281", "599000", "62811", "6281211459958", "629000", "6496", "679900", "6sskbylpwr0", "720s", "75000", "850i", "919900", "aar0nrlewis", "aaron", "able", "abone", "abonneer", "abonneerdon", "abonneren", "acclaimed", "acompanha", "acompaÃ±es", "adamc", "adblocker", "ademÃ¡s", "adestramento", "adestrar", "adopting", "adorable", "adventures", "afixados", "africa", "african", "afrojack", "after", "afterglow", "aggressive", "agradece", "aguilera", "ahead", "ahogy", "ailemize", "aithay", "alaatin61", "alade", "alakalÄ±", "alan", "alebo", "alice", "alkatrÃ©szek", "allspeeddrive", "allurbancentral", "almanya", "already", "amateur", "america", "amigos", "amritsar", "amzn", "anak", "android", "animalshealthcare", "anlatÄ±yor", "another", "ansiklopedisi", "anthem", "anthony", "antimon", "anuel", "anymore", "anyone", "apart", "aperta", "apoiar", "applemusic", "apps", "aprenda", "april", "aquÃ­", "arkadaÅŸlar", "arriba", "arthur", "artwork", "asking", "assistant", "assistindo", "ataque", "ataupun", "atenÃ§Ã£o", "ateÅŸi", "ateÅŸin", "atlantic", "atrÃ¡s", "attacked", "audi", "auta", "autasuper", "authority", "autobahn", "automobile", "autovisie", "aventura", "babybus", "babysitting", "bakÄ±mÄ±", "balls", "balvin", "bambino", "band", "banget", "barbie", "based", "beach", "beamng", "beats", "beatz", "beautiful", "beberexha", "becky", "become", "bekas", "belgian", "bell", "benzÃ­n", "beraberiz", "berbanding", "bespoke", "bgit", "bgitspotify", "bhushan", "bibo", "bigtruck", "bilgiler", "billo", "binnen", "biting", "bitten", "biáº¿t", "biá»‡t", "blindfold", "blood", "blue", "bmw", "bmwid", "bonitaet", "bonitÃ¤t", "bontÃ³bÃ³l", "boost", "born", "bossy", "bossykennels", "both", "boys", "brand", "bring", "brings", "brody", "broke", "brooklynscorner", "brother", "brushing", "buena", "built", "bukan", "bust", "buy", "buyers", "buying", "bÃ¬nh", "bÃ¶lÃ¼m", "bÃ¶lÃ¼mÃ¼n", "c6inai2ztso", "cabello", "cabrio", "cafe", "cake", "camera", "camila", "camodo", "campaÃ±a", "campeonato", "camper", "camping", "canadian", "canil", "capital", "captain", "carly", "carrace", "carreras", "carried", "carrion", "cartoon", "carÃ¡cter", "caught", "celebrate", "celebrates", "certain", "certified", "cesar", "chacal", "chance", "changers", "chapaxi", "charles", "charlotte", "chatpat", "cheapest", "chennai", "chick", "chloe", "choose", "christina", "christmas", "chuá»™ng", "chÃ o", "cins", "cintura", "city", "ciudad", "cleanup", "clip", "clips", "clique", "clocked", "clothing", "cnbbtisdkmq", "coat", "cocodrilos", "cold", "coleccionistas", "collected", "colored", "colour", "come", "comenta", "comentÃ¡rios", "comercial", "comes", "comments", "community", "comoyoledoy", "compartiÃ³", "compete", "competed", "comportamento", "composed", "comÃºn", "concerte", "concrete", "condition", "confront", "conhecem", "connect", "consider", "construction", "contenido", "content", "contents", "continuar", "convierte", "convinced", "convoy", "copymafia", "copyright", "cosas", "costs", "countdown", "counting", "course", "cranes", "crash", "create", "created", "creating", "credits", "crime", "critically", "cruftssub", "crunchy", "crunk", "crusoe", "cruz", "csinÃ¡lunk", "cuddling", "cuenta", "cuento", "cukup", "curbler", "curled", "curso", "cuteness", "cÃ ng", "cÃ£es", "cÃ³mo", "cÅ©ng", "cáº£nh", "dachshunds", "daddy", "dance", "dares", "dari", "david", "davranÄ±ÅŸ", "days", "daytona", "deadpool", "dear", "death", "deberÃ­as", "decide", "decides", "decido", "deezer", "dejo", "delhi", "delivers", "demanding", "denk", "dentro", "depends", "depth", "description", "descubra", "desde", "designed", "despierto", "dessa", "detailed", "details", "detallÃ³", "diary", "dias", "dicc", "didnt", "diecast", "diesel", "diferente", "diferentes", "diferenÃ§as", "differences", "diketahui", "dios", "dipasarkan", "directed", "director", "direÃ§Ã£o", "dirigido", "discovery", "discuss", "disguised", "displacement", "disponibles", "disturbing", "diva", "diÃ¡rio", "dknceansjx0", "dlive", "dobre", "dobrÃ©", "does", "dogfood", "dogfoodmedia", "doing", "domesticated", "don", "donation", "dong", "donker", "donkermag_amz", "donkermag_it", "doors", "dora", "dose", "downloaden", "drawn", "drift", "driftautÃ³t", "drove", "duki", "dukissj", "dump", "dÃ­as", "dÆ°á»›i", "each", "ears", "easter", "eating", "echa", "edit", "edition", "ediÃ§Ã£o", "effyzzie", "eggs", "either", "eldad", "electric", "elefantes", "elegance", "elegancia", "eles", "elityavru", "ellos", "elÃ©ctrico", "elÅ‘tÃºrt", "emmanuel", "empreendedor", "enano", "encounter", "ended", "enfermo", "english", "enter", "entertainment", "enthusiastic", "entre", "envio", "environment", "enzo", "epic", "episÃ³dio", "escaping", "escÃºchalo", "esqueÃ§a", "essa", "essential", "estamos", "estatura", "estilo", "estos", "etsy", "ettiÄŸi", "ev1kva6", "even", "events", "everyone", "evolution", "examples", "excelencia", "excellent", "exciting", "exclusive", "executiva", "exercise", "exhaust", "exist", "existen", "exotics", "experiment", "eÄŸlenceli", "f142m", "f70pov", "facts", "fade", "fails", "fair", "fairly", "falando", "familias", "fast", "fastcars", "faux", "fauxsala", "favorita", "features", "feel", "ferraricollector_davidlee", "ferrariroma", "ferraristores", "film", "final", "finland", "flits", "floor", "flylo", "following", "foot", "ford", "forever", "forget", "founder", "free", "freshman", "fun", "fundaciÃ³n", "funnie4st", "further", "furtherupyd", "future", "fÃ­sicas", "game", "gameplays", "games", "gaming", "gang", "gangster", "ganteng", "garbage", "geldi", "geldiniz", "generated", "get", "getting", "ghetto", "gilberto", "gittikÃ§e", "give", "giving", "giá»‘ng", "glisa_madafaka", "glisashop", "globalizationsp", "goku", "golden", "gonegrooming", "gracias", "gran", "great", "green", "greytoneasia", "group", "guard", "guest", "guidedogs", "guinobrecomercial", "gulshan", "guneet", "guns", "gÃ¶re", "gÃ¼ndem", "gÃ¼zel", "h8vxge", "haberlere", "habis", "habits", "hair", "halo", "hangi", "happen", "happy", "hard", "hardest", "harpreet_sdc", "havlama", "hazÄ±rlÄ±klar", "heart", "heartgard", "heerlijk", "hell", "helping", "herb", "heritageracing", "herkese", "heroics", "hicks", "highest", "highly", "hindi", "hipopÃ³tamos", "hispanic", "history", "hits", "hobbies", "hogar", "hola", "hollmann", "homevideolicensing", "hopeforpaws", "horizon", "hotmail", "however", "hublot", "hudson", "husky", "hyper", "iamchinoyoutube", "ibqery_i9ku", "iconic", "idiots", "ikgmsehw1ui", "iletiÅŸim", "ilgili", "impaired", "impression", "impressive", "inanÄ±lmaz", "include", "inclusive", "incredibly", "incrÃ­vel", "indonesia", "influential", "info", "information", "informaÃ§Ãµes", "inquiries", "inside", "inspired", "instant", "interesante", "interesting", "intruder", "invest", "invited", "invito", "isetta", "island", "itunespitbull", "izle", "jack", "jackson", "jail", "jayder", "jayderpro", "jennifer", "jesÃºs", "jugnu", "jump", "jumping", "k9nd7t", "kami", "kanaal", "kanalima", "kandology", "kang", "karakteriyle", "karÅŸÄ±", "karÅŸÄ±nÄ±zda", "katy", "katÄ±lacak", "kdjvv3ripny", "keep", "keeps", "keilly", "kennels", "kenneth", "kesha", "khÃ´ng", "kick", "kilmer", "kindly", "kini", "kisaran", "kiss", "komik", "konulmaz", "korea", "kullanacaÄŸÄ±", "kÃ¶vesd", "kÄ±zÄ±", "ladies", "langs", "lanuovadolcevita", "large", "last", "laura", "lauria", "lauriaweb", "lead", "leader", "leave", "leclerc", "legend", "legendary", "lenier", "leoa", "leslie", "less", "letra", "licensed", "licensing", "liljon", "lilzayosama", "lilzayosamaofficial", "limited", "lineup", "lirycs", "listed", "liter", "lively", "lives", "loader", "locked", "logo", "long", "look", "loopt", "lopez", "lovely", "loves", "lucu", "lumpens", "luáº­n", "lyelxgiydeq", "lÆ°á»£t", "m440i", "m850i", "macho", "mack", "madden", "madhouserecordssubscribe", "mafra", "magazine", "magical", "mail", "makes", "malaysia", "malinois", "mama", "management", "manejams", "manny", "many", "marc", "market", "mascota", "masked", "mate", "mattel", "maxxmotion", "mayor", "mclaren", "meaning", "mediano", "medicines", "medium", "meer", "meeting", "mega", "megmentett", "mejor", "melahirkan", "meltdown", "memang", "membantu", "member", "meme", "men", "mequedarecontigo", "merhaba", "mero", "meus", "mewah", "micha", "mijn", "mild", "minha", "mini", "miniatura", "minicar", "miranda", "misdewiener", "miss", "mixers", "mixes", "mmm", "mmmyeahitunes", "mobil", "modelo", "mohombi", "mondial", "monthly", "months", "mother", "motocycles", "motorla", "motorrad", "motors", "msrp", "muffin", "mugello", "multiplayer", "multiple", "mundo", "munich", "must", "mustang", "mÃ¡niÃ¡s", "mÃ®ndru", "mÃºsica", "má»«ng", "naam", "namun", "nasÄ±l", "natasha", "natti", "nature", "ncs", "nctk", "nearly", "needs", "negative", "neste", "never", "newborn", "news", "nexgard", "ngÃ y", "nhÃ¢n", "nhÃ³m", "nhÆ°ng", "niet", "nissan", "nolotrates", "nonton", "normal", "nossa", "nosso", "notes", "notification", "notorious", "notorious_dicc", "nova", "nuestros", "nuevoalbum", "nyomon", "oakley", "obstacle", "ochapax", "october", "odinstandardpoodle", "offering", "olan", "oldu", "omaze", "only", "opciÃ³n", "openings", "opens", "origin", "originalmente", "otro", "output", "overall", "owen", "owners", "pack", "page", "pain", "paksoy", "panda", "panther", "pants", "parece", "paris", "park", "part", "party", "pasaran", "paul", "pays", "pbit", "pengalaman", "pennzoil", "pequeÃ±a", "perfect", "performing", "perlu", "pero", "perry", "personalidad", "personalidade", "pertama", "petrol", "pftm", "pháº£i", "pick", "picks", "picnic", "piece", "piloti", "piranhas", "piston", "pistonheads", "pitbullmusic", "pitil", "pitss", "pittim", "pl_3z", "places", "planes", "planeta", "plant", "plastic", "plataforma", "platforms", "played", "player", "players", "playhouses", "pleasure", "plucked", "podcast", "podrÃ­a", "pogz", "populares", "positive", "post", "powerful", "powerfull", "prank", "precio", "precios", "precisa", "premiere", "premium", "presenta", "presents", "preste", "prod", "producciÃ³n", "producer", "production", "products", "produÃ§Ã£o", "profession", "programs", "programÄ±mÄ±za", "pros", "proses", "protecting", "protection", "provided", "providing", "proxima", "puddle", "puddles", "puglisi", "pumper", "punjabi", "pureplus", "quais", "quando", "quer", "quienes", "racers", "radi", "radiador", "rain", "rakh", "rallying", "rallyworld", "ramirez", "random", "range", "rango", "rate", "razas", "recommendations", "reconhecer", "redes", "reenactment", "regreso", "reis", "released", "releases", "relive", "remember", "remix", "remote", "renowned", "returns", "reune", "reveal", "revealed", "reviews", "reviving", "revolution", "rexha", "riksfb", "ring", "risk", "rm40k", "roadtrip", "robot", "rocamusic", "rocket", "roldeur", "rory", "rotina", "rottweiler", "rounder", "royale", "rural", "rá»™ng", "sabe", "sabias", "sahiplendim", "saiba", "said", "saja", "sala", "sale", "sampai", "sand", "saske", "save", "scary", "schnauzer", "schnell", "scotty", "scratch", "sean", "seat", "sebastian", "sebelumnya", "second", "seconds", "secret", "seken", "selaaam", "send", "senora", "seoul", "serve", "server", "sets", "sevilen", "sevimliliÄŸi", "seyirler", "sezonu", "sf90", "shake", "shares", "shark", "sheer", "shepherd", "shimpy", "shirt", "short", "shot", "showdown", "showing", "shown", "siberian", "sigam", "sinÃ³nimos", "size", "sized", "sizlere", "skills", "skyscrapers", "slime", "smid", "snot", "socal", "social", "society", "soft", "sold", "song", "soobin", "sophomore", "sorununu", "souls", "soundcloud", "soyu", "special", "spin", "splash", "sponsored", "sport", "sportcar", "sportscars", "sportsnet", "spoti", "spotifypitbull", "springs", "spycakes", "staan", "start", "static", "staticandbenel", "stay", "sticky", "storm", "story", "stradale", "strangest", "straps", "streamen", "streaming", "streets", "stuck", "studiogale", "stunt", "suave", "subscibe", "subscribesevenhundred", "subscribete", "suda", "sudah", "sudasuda", "sultan", "summer", "sunday", "sure", "surely", "surpreendi", "swimming", "szarbÃ³l", "sÃ­gueme", "sÃ³cio", "taazi", "takara", "talents", "talep", "talk", "tamaÃ±os", "tankuje", "teach", "teaches", "tease", "technical", "teemill", "teeth", "telah", "tenerla", "tequierobabyid", "tested", "testing", "tham", "the", "then", "thick", "think", "thinks", "thursday", "thÃ­ch", "tiempo", "tienen", "tienes", "tightly", "timber", "timeless", "times", "tips", "tito", "todas", "today", "todays", "tomoncarpuzzle", "tomy", "topo", "topspeed", "torque", "toto", "tournament", "toycars", "toysreview", "toÃ n", "tractor", "trae", "training", "transformer", "transported", "transporters", "tras", "trates", "travÃ©s", "treinar", "trim", "troliass", "trÃªn", "tuned", "turbo", "turn", "turns", "turun", "tvoetoferrari", "twin", "typical", "uc0x8rh155itnrlqoaabnrxq", "uckaiovvojb9tucxorjxc0", "ufscsm", "ultimate", "undermood", "unforgettable", "unfortunate", "unique", "unveiled", "upon", "urbano", "used", "using", "usqgbwlge4e", "utility", "uzmanÄ±", "v8ecca", "varieties", "varios", "vehÃ­culo", "veja", "ventas", "verdik", "vergeet", "versi", "versuri", "vertical", "vettel", "vevo", "vevocertified", "viciocurioso", "vida", "videoyla", "village", "violently", "virtua", "vistazo", "visual", "visually", "vlogger", "vocÃªs", "voor", "vorbestellen", "vÃ¡rat", "wait", "walk", "walker", "walks", "wanna", "wanted", "washing", "watson", "wayne", "weather", "weathers", "webshop", "weeks", "westminster", "whether", "which", "while", "whole", "wife", "wilimovich", "wing", "wingo", "wins", "wmrioxnbood6sfktoohlnbvukv", "wolverine", "women", "wonder", "words", "worked", "worthy", "wouldn", "xplore", "yandel", "yankee", "yaptÄ±k", "yavru", "yeah", "year", "yemi", "yena", "yepyeni", "yopi", "ytapc", "ytsubscribegbs", "yÃªulu", "yÃªumÃ¨o", "yÄ±ldÄ±zÄ±", "zakelijk", "zbytoÄne", "zbytoÄnÃ©", "zeker", "zero", "ziet", "Â©", "Ã§Ä±kan", "Ã¼berall", "Ä‘Æ°á»£c", "Ä±rkÄ±", "Ä±rkÄ±nÄ±n", "Ä±sÄ±nÄ±yor", "Ð°ÐºÑ†Ð¸Ð¸", "Ð±Ð¸Ð¹Ñ‚Ñ", "Ð±Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð½Ð¾ÑÑ‚ÑŒ", "Ð±ÑƒÑÑ‚Ð¾", "Ð²Ð°Ñ€Ð¸Ñ‚ÑŒ", "Ð²Ð¸Ð´ÐµÐ¾", "Ð²Ñ‹Ð¸Ð³Ñ€Ð°Ð¹", "Ð·Ð°Ð¿Ð¸Ñ", "ÐºÑ€ÑƒÑ‚Ñ‹Ðµ", "ÐºÑƒÐ¿Ð¸Ð»Ð¸", "Ð¼Ð¸ÐºÑ", "Ð¼ÑƒÐ·Ð¸ÐºÐ°", "Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÐ¼", "Ð¾Ð³Ñ€Ð¾Ð¼Ð½Ð°Ñ", "Ð¾Ð¶Ð¸Ð²Ð¸Ð»Ð¸", "Ð¾Ñ„Ð¸Ñ†Ð¸Ð°Ð»ÐµÐ½", "Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ", "Ð¿Ñ€Ð¸Ð·Ñ‹", "Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¹", "Ñ€Ð°Ð¼Ð¾Ð½Ñƒ", "Ñ€ÑƒÐ±Ð»ÐµÐ¹", "ÑÐ°Ð¹Ñ‚", "ÑÐµÐ³Ð¾Ð´Ð½Ñ", "ÑÐµÑ€Ð¸Ð¸", "ÑÑŠÐµÐ¼ÐºÐµ", "Ñ‚ÐµÐºÑÑ‚", "Ñ‚Ð¾ÑˆÐ¾", "Ñ‚Ñ‹ÑÑÑ‡", "ÑƒÑ‡Ð°ÑÑ‚Ð²ÑƒÑ", "Ñ…Ð¾Ð´Ñƒ", "Ø§Ù„Ø¯ÙØ¹", "Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ", "Ø¨Ø§ÙŠÙƒÙˆØ±", "Ø³Ø¨Ø§ÙŠØ¯Ø±Ù…Ø§Ù†", "ÙˆØ³ÙŠØ§Ø±Ø§Øª", "à¸‚à¸²à¸¢à¹à¸¥à¹‰à¸§à¸„à¸£à¸±à¸š", "à¸—à¸µà¹ˆà¸›à¸£à¸°à¹€à¸—à¸¨à¹€à¸¢à¸­à¸£à¸¡à¸±à¸™à¸„à¸£à¸±à¸š", "à¸œà¸¡à¸žà¸²à¹„à¸›à¸‚à¸±à¸š", "à¸£à¸–à¸„à¸±à¸™à¸™à¸µà¹‰à¹€à¸›à¹‡à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¹ƒà¸™à¸ªà¸¸à¸”à¸¢à¸­à¸”à¸¢à¸²à¸™à¸¢à¸™à¸•à¹Œà¸—à¸µà¹ˆà¸­à¸±à¸”à¹€à¸­à¸²à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µà¸‚à¸­à¸‡", "à¸£à¸µà¸§à¸´à¸§à¸§à¸±à¸™à¸™à¸µà¹‰", "à¸ªà¸¸à¸”à¸«à¸£à¸¹", "à¸ªà¸¸à¸”à¹à¸£à¸‡", "à¹ƒà¸™à¸£à¸¸à¹ˆà¸™", "â˜žï¾Ÿ", "â™¥", "âœˆ", "âž¡ï¸", "äºº", "å€‹", "å€‘", "å¤§", "å¯‚", "å¯ž", "æˆ‘", "æ¦‚", "æ¯", "éƒ½", "ê°•ì•„ì§€ì²˜ëŸ¼", "ë•…íŒŒë©´ì‹­ì›ì´ë‚˜ì˜¤ëƒê°œ", "ë´‰êµ¬ì—ìš”", "ì‚¬ëž‘ìŠ¤ëŸ¬ì›Œìš”", "ì‚¬ì›”ì´ã…‹ã…‹", "ì•„ë‹Œê°€ìš”", "ì•„ë¶€ì§€ê¸‰ì¸", "ì—¬ìœ ë¡œìš´", "ìž”ì†Œë¦¬ê°€", "ì ˆì•½í•˜ë¼ëŠ”", "ì ˆì•½í•˜ìŸˆê°œ", "ì§‘ì—ì„œí•¨ê»˜ì• ë‹ˆë©€ë´", "ì²˜ìŒìœ¼ë¡œ", "íˆ¬ëª¨ë¡œìš°ë°”ì´íˆ¬ê²Œë”", "í™˜ê²½ì—ì„œ", "ðŸ¤£"];
var MongoController = /** @class */ (function () {
    // El constructor se encarga de realizar la conexiÃ³n a la base de datos (MONGO)
    function MongoController() {
        var _this = this;
        dotenv.config();
        this.log = new common_1.Logger();
        try {
            mongoose.connect(process.env.MONGO_API, {
                useNewUrlParser: true,
                useUnifiedTopology: true,
                socketTimeoutMS: 2000
            });
            this.db = mongoose.connection;
            this.db.on('error', function () {
                _this.log.error("No se pudo conectar a mongo");
            });
            this.db.once('open', function () {
                _this.log.info("Conectado a mongo");
            });
        }
        catch (e) {
            this.log.error(e);
        }
    }
    MongoController.prototype.fillArticles = function () {
        var _this = this;
        try {
            var quantity = 100;
            var _loop_1 = function () {
                var aproxHashtags = Math.trunc(Math.random() * 3 + 4) / allhashtags.length;
                var newPost = new common_1.Articles({
                    autor: faker.name.firstName(),
                    titulo: faker.lorem.words(7),
                    subtitulo: faker.lorem.words(3),
                    texto: faker.lorem.paragraphs(2),
                    fecha: faker.date.recent(),
                    data: {
                        images: faker.image.nature(),
                        videos: faker.image.technics()
                    },
                    hashtags: allhashtags.filter(function (element, index, array) {
                        if (Math.random() <= aproxHashtags) {
                            return true;
                        }
                    })
                });
                newPost.save(function (err, post) {
                    if (err) {
                        _this.log.error(err);
                    }
                });
                quantity--;
            };
            while (quantity > 0) {
                _loop_1();
            }
            ;
        }
        catch (e) {
            this.log.error(e);
        }
    };
    MongoController.prototype.getArticlesByHashtags = function (hashtagsArr) {
        return __awaiter(this, void 0, void 0, function () {
            var responseFromMongo;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, common_1.Articles.find({ "hashtags": { $in: hashtagsArr } })];
                    case 1:
                        responseFromMongo = _a.sent();
                        return [2 /*return*/, responseFromMongo];
                }
            });
        });
    };
    MongoController.getInstance = function () {
        if (!this.instance) {
            this.instance = new MongoController();
        }
        return this.instance;
    };
    return MongoController;
}());
exports.MongoController = MongoController;
